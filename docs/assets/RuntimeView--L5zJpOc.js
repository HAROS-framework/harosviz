import{s as D,f as ge,g as we,h as be,r as z,d as I,w as Ne,v as ke,o as S,c as B,i as pe,j as ne,a as C,k as ue,t as Y,e as ee,l as ve,n as Me,m as P,p as O,b as re,F as ae,q as H,u as Se,x as W,y as Ae,z as Ce,A as se,B as $e,C as Ve,D as je}from"./index-BPw8nnxt.js";function ze(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ce(e,t){if(e=ze(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Te={passive:!1},U={capture:!0,passive:!1};function J(e){e.stopImmediatePropagation()}function L(e){e.preventDefault(),e.stopImmediatePropagation()}function Ee(e){var t=e.document.documentElement,n=D(e).on("dragstart.drag",L,U);"onselectstart"in t?n.on("selectstart.drag",L,U):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Be(e,t){var n=e.document.documentElement,r=D(e).on("dragstart.drag",null);t&&(r.on("click.drag",L,U),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const q=e=>()=>e;function te(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:l,x:s,y:i,dx:f,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}te.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Fe(e){return!e.ctrlKey&&!e.button}function De(){return this.parentNode}function Ie(e,t){return t??{x:e.x,y:e.y}}function Pe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ge(){var e=Fe,t=De,n=Ie,r=Pe,a={},l=ge("start","drag","end"),s=0,i,f,h,p,x=0;function v(o){o.on("mousedown.drag",g).filter(r).on("touchstart.drag",u).on("touchmove.drag",d,Te).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(o,_){if(!(p||!e.call(this,o,_))){var N=b(this,t.call(this,o,_),o,_,"mouse");N&&(D(o.view).on("mousemove.drag",w,U).on("mouseup.drag",c,U),Ee(o.view),J(o),h=!1,i=o.clientX,f=o.clientY,N("start",o))}}function w(o){if(L(o),!h){var _=o.clientX-i,N=o.clientY-f;h=_*_+N*N>x}a.mouse("drag",o)}function c(o){D(o.view).on("mousemove.drag mouseup.drag",null),Be(o.view,h),L(o),a.mouse("end",o)}function u(o,_){if(e.call(this,o,_)){var N=o.changedTouches,k=t.call(this,o,_),M=N.length,A,j;for(A=0;A<M;++A)(j=b(this,k,o,_,N[A].identifier,N[A]))&&(J(o),j("start",o,N[A]))}}function d(o){var _=o.changedTouches,N=_.length,k,M;for(k=0;k<N;++k)(M=a[_[k].identifier])&&(L(o),M("drag",o,_[k]))}function y(o){var _=o.changedTouches,N=_.length,k,M;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),k=0;k<N;++k)(M=a[_[k].identifier])&&(J(o),M("end",o,_[k]))}function b(o,_,N,k,M,A){var j=l.copy(),m=ce(A||N,_),E,G,F;if((F=n.call(o,new te("beforestart",{sourceEvent:N,target:v,identifier:M,active:s,x:m[0],y:m[1],dx:0,dy:0,dispatch:j}),k))!=null)return E=F.x-m[0]||0,G=F.y-m[1]||0,function Z(X,oe,xe){var le=m,K;switch(X){case"start":a[M]=Z,K=s++;break;case"end":delete a[M],--s;case"drag":m=ce(xe||oe,_),K=s;break}j.call(X,o,new te(X,{sourceEvent:oe,subject:F,target:v,identifier:M,active:K,x:m[0]+E,y:m[1]+G,dx:m[0]-le[0],dy:m[1]-le[1],dispatch:j}),k)}}return v.filter=function(o){return arguments.length?(e=typeof o=="function"?o:q(!!o),v):e},v.container=function(o){return arguments.length?(t=typeof o=="function"?o:q(o),v):t},v.subject=function(o){return arguments.length?(n=typeof o=="function"?o:q(o),v):n},v.touchable=function(o){return arguments.length?(r=typeof o=="function"?o:q(!!o),v):r},v.on=function(){var o=l.on.apply(l,arguments);return o===l?v:o},v.clickDistance=function(o){return arguments.length?(x=(o=+o)*o,v):Math.sqrt(x)},v}function Re(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return me(this.cover(t,n),t,n,e)}function me(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,l=e._root,s={data:r},i=e._x0,f=e._y0,h=e._x1,p=e._y1,x,v,g,w,c,u,d,y;if(!l)return e._root=s,e;for(;l.length;)if((c=t>=(x=(i+h)/2))?i=x:h=x,(u=n>=(v=(f+p)/2))?f=v:p=v,a=l,!(l=l[d=u<<1|c]))return a[d]=s,e;if(g=+e._x.call(null,l.data),w=+e._y.call(null,l.data),t===g&&n===w)return s.next=l,a?a[d]=s:e._root=s,e;do a=a?a[d]=new Array(4):e._root=new Array(4),(c=t>=(x=(i+h)/2))?i=x:h=x,(u=n>=(v=(f+p)/2))?f=v:p=v;while((d=u<<1|c)===(y=(w>=v)<<1|g>=x));return a[y]=l,a[d]=s,e}function Ye(e){var t,n,r=e.length,a,l,s=new Array(r),i=new Array(r),f=1/0,h=1/0,p=-1/0,x=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(l=+this._y.call(null,t))||(s[n]=a,i[n]=l,a<f&&(f=a),a>p&&(p=a),l<h&&(h=l),l>x&&(x=l));if(f>p||h>x)return this;for(this.cover(f,h).cover(p,x),n=0;n<r;++n)me(this,s[n],i[n],e[n]);return this}function Le(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,l=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,l=(r=Math.floor(t))+1;else{for(var s=a-n||1,i=this._root,f,h;n>e||e>=a||r>t||t>=l;)switch(h=(t<r)<<1|e<n,f=new Array(4),f[h]=i,i=f,s*=2,h){case 0:a=n+s,l=r+s;break;case 1:n=a-s,l=r+s;break;case 2:a=n+s,r=l-s;break;case 3:n=a-s,r=l-s;break}this._root&&this._root.length&&(this._root=i)}return this._x0=n,this._y0=r,this._x1=a,this._y1=l,this}function Xe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Ue(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function $(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function Ze(e,t,n){var r,a=this._x0,l=this._y0,s,i,f,h,p=this._x1,x=this._y1,v=[],g=this._root,w,c;for(g&&v.push(new $(g,a,l,p,x)),n==null?n=1/0:(a=e-n,l=t-n,p=e+n,x=t+n,n*=n);w=v.pop();)if(!(!(g=w.node)||(s=w.x0)>p||(i=w.y0)>x||(f=w.x1)<a||(h=w.y1)<l))if(g.length){var u=(s+f)/2,d=(i+h)/2;v.push(new $(g[3],u,d,f,h),new $(g[2],s,d,u,h),new $(g[1],u,i,f,d),new $(g[0],s,i,u,d)),(c=(t>=d)<<1|e>=u)&&(w=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=w)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),o=y*y+b*b;if(o<n){var _=Math.sqrt(n=o);a=e-_,l=t-_,p=e+_,x=t+_,r=g.data}}return r}function qe(e){if(isNaN(p=+this._x.call(null,e))||isNaN(x=+this._y.call(null,e)))return this;var t,n=this._root,r,a,l,s=this._x0,i=this._y0,f=this._x1,h=this._y1,p,x,v,g,w,c,u,d;if(!n)return this;if(n.length)for(;;){if((w=p>=(v=(s+f)/2))?s=v:f=v,(c=x>=(g=(i+h)/2))?i=g:h=g,t=n,!(n=n[u=c<<1|w]))return this;if(!n.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(r=t,d=u)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,a?(l?a.next=l:delete a.next,this):t?(l?t[u]=l:delete t[u],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[d]=n:this._root=n),this):(this._root=l,this)}function He(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Oe(){return this._root}function Qe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Ke(e){var t=[],n,r=this._root,a,l,s,i,f;for(r&&t.push(new $(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,l=n.x0,s=n.y0,i=n.x1,f=n.y1)&&r.length){var h=(l+i)/2,p=(s+f)/2;(a=r[3])&&t.push(new $(a,h,p,i,f)),(a=r[2])&&t.push(new $(a,l,p,h,f)),(a=r[1])&&t.push(new $(a,h,s,i,p)),(a=r[0])&&t.push(new $(a,l,s,h,p))}return this}function We(e){var t=[],n=[],r;for(this._root&&t.push(new $(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var l,s=r.x0,i=r.y0,f=r.x1,h=r.y1,p=(s+f)/2,x=(i+h)/2;(l=a[0])&&t.push(new $(l,s,i,p,x)),(l=a[1])&&t.push(new $(l,p,i,f,x)),(l=a[2])&&t.push(new $(l,s,x,p,h)),(l=a[3])&&t.push(new $(l,p,x,f,h))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Je(e){return e[0]}function et(e){return arguments.length?(this._x=e,this):this._x}function tt(e){return e[1]}function nt(e){return arguments.length?(this._y=e,this):this._y}function ye(e,t,n){var r=new ie(t??Je,n??tt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function ie(e,t,n,r,a,l){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=l,this._root=void 0}function fe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var V=ye.prototype=ie.prototype;V.copy=function(){var e=new ie(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=fe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=fe(r));return e};V.add=Re;V.addAll=Ye;V.cover=Le;V.data=Xe;V.extent=Ue;V.find=Ze;V.remove=qe;V.removeAll=He;V.root=Oe;V.size=Qe;V.visit=Ke;V.visitAfter=We;V.x=et;V.y=nt;function T(e){return function(){return e}}function R(e){return(e()-.5)*1e-6}function rt(e){return e.index}function he(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function at(e){var t=rt,n=x,r,a=T(30),l,s,i,f,h,p=1;e==null&&(e=[]);function x(u){return 1/Math.min(i[u.source.index],i[u.target.index])}function v(u){for(var d=0,y=e.length;d<p;++d)for(var b=0,o,_,N,k,M,A,j;b<y;++b)o=e[b],_=o.source,N=o.target,k=N.x+N.vx-_.x-_.vx||R(h),M=N.y+N.vy-_.y-_.vy||R(h),A=Math.sqrt(k*k+M*M),A=(A-l[b])/A*u*r[b],k*=A,M*=A,N.vx-=k*(j=f[b]),N.vy-=M*j,_.vx+=k*(j=1-j),_.vy+=M*j}function g(){if(s){var u,d=s.length,y=e.length,b=new Map(s.map((_,N)=>[t(_,N,s),_])),o;for(u=0,i=new Array(d);u<y;++u)o=e[u],o.index=u,typeof o.source!="object"&&(o.source=he(b,o.source)),typeof o.target!="object"&&(o.target=he(b,o.target)),i[o.source.index]=(i[o.source.index]||0)+1,i[o.target.index]=(i[o.target.index]||0)+1;for(u=0,f=new Array(y);u<y;++u)o=e[u],f[u]=i[o.source.index]/(i[o.source.index]+i[o.target.index]);r=new Array(y),w(),l=new Array(y),c()}}function w(){if(s)for(var u=0,d=e.length;u<d;++u)r[u]=+n(e[u],u,e)}function c(){if(s)for(var u=0,d=e.length;u<d;++u)l[u]=+a(e[u],u,e)}return v.initialize=function(u,d){s=u,h=d,g()},v.links=function(u){return arguments.length?(e=u,g(),v):e},v.id=function(u){return arguments.length?(t=u,v):t},v.iterations=function(u){return arguments.length?(p=+u,v):p},v.strength=function(u){return arguments.length?(n=typeof u=="function"?u:T(+u),w(),v):n},v.distance=function(u){return arguments.length?(a=typeof u=="function"?u:T(+u),c(),v):a},v}const it=1664525,ot=1013904223,de=4294967296;function lt(){let e=1;return()=>(e=(it*e+ot)%de)/de}function ut(e){return e.x}function st(e){return e.y}var ct=10,ft=Math.PI*(3-Math.sqrt(5));function ht(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),l=0,s=.6,i=new Map,f=we(x),h=ge("tick","end"),p=lt();e==null&&(e=[]);function x(){v(),h.call("tick",t),n<r&&(f.stop(),h.call("end",t))}function v(c){var u,d=e.length,y;c===void 0&&(c=1);for(var b=0;b<c;++b)for(n+=(l-n)*a,i.forEach(function(o){o(n)}),u=0;u<d;++u)y=e[u],y.fx==null?y.x+=y.vx*=s:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=s:(y.y=y.fy,y.vy=0);return t}function g(){for(var c=0,u=e.length,d;c<u;++c){if(d=e[c],d.index=c,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var y=ct*Math.sqrt(.5+c),b=c*ft;d.x=y*Math.cos(b),d.y=y*Math.sin(b)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function w(c){return c.initialize&&c.initialize(e,p),c}return g(),t={tick:v,restart:function(){return f.restart(x),t},stop:function(){return f.stop(),t},nodes:function(c){return arguments.length?(e=c,g(),i.forEach(w),t):e},alpha:function(c){return arguments.length?(n=+c,t):n},alphaMin:function(c){return arguments.length?(r=+c,t):r},alphaDecay:function(c){return arguments.length?(a=+c,t):+a},alphaTarget:function(c){return arguments.length?(l=+c,t):l},velocityDecay:function(c){return arguments.length?(s=1-c,t):1-s},randomSource:function(c){return arguments.length?(p=c,i.forEach(w),t):p},force:function(c,u){return arguments.length>1?(u==null?i.delete(c):i.set(c,w(u)),t):i.get(c)},find:function(c,u,d){var y=0,b=e.length,o,_,N,k,M;for(d==null?d=1/0:d*=d,y=0;y<b;++y)k=e[y],o=c-k.x,_=u-k.y,N=o*o+_*_,N<d&&(M=k,d=N);return M},on:function(c,u){return arguments.length>1?(h.on(c,u),t):h.on(c)}}}function dt(){var e,t,n,r,a=T(-30),l,s=1,i=1/0,f=.81;function h(g){var w,c=e.length,u=ye(e,ut,st).visitAfter(x);for(r=g,w=0;w<c;++w)t=e[w],u.visit(v)}function p(){if(e){var g,w=e.length,c;for(l=new Array(w),g=0;g<w;++g)c=e[g],l[c.index]=+a(c,g,e)}}function x(g){var w=0,c,u,d=0,y,b,o;if(g.length){for(y=b=o=0;o<4;++o)(c=g[o])&&(u=Math.abs(c.value))&&(w+=c.value,d+=u,y+=u*c.x,b+=u*c.y);g.x=y/d,g.y=b/d}else{c=g,c.x=c.data.x,c.y=c.data.y;do w+=l[c.data.index];while(c=c.next)}g.value=w}function v(g,w,c,u){if(!g.value)return!0;var d=g.x-t.x,y=g.y-t.y,b=u-w,o=d*d+y*y;if(b*b/f<o)return o<i&&(d===0&&(d=R(n),o+=d*d),y===0&&(y=R(n),o+=y*y),o<s&&(o=Math.sqrt(s*o)),t.vx+=d*g.value*r/o,t.vy+=y*g.value*r/o),!0;if(g.length||o>=i)return;(g.data!==t||g.next)&&(d===0&&(d=R(n),o+=d*d),y===0&&(y=R(n),o+=y*y),o<s&&(o=Math.sqrt(s*o)));do g.data!==t&&(b=l[g.data.index]*r/o,t.vx+=d*b,t.vy+=y*b);while(g=g.next)}return h.initialize=function(g,w){e=g,n=w,p()},h.strength=function(g){return arguments.length?(a=typeof g=="function"?g:T(+g),p(),h):a},h.distanceMin=function(g){return arguments.length?(s=g*g,h):Math.sqrt(s)},h.distanceMax=function(g){return arguments.length?(i=g*g,h):Math.sqrt(i)},h.theta=function(g){return arguments.length?(f=g*g,h):Math.sqrt(f)},h}function gt(e){var t=T(.1),n,r,a;typeof e!="function"&&(e=T(e==null?0:+e));function l(i){for(var f=0,h=n.length,p;f<h;++f)p=n[f],p.vx+=(a[f]-p.x)*r[f]*i}function s(){if(n){var i,f=n.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+e(n[i],i,n))?0:+t(n[i],i,n)}}return l.initialize=function(i){n=i,s()},l.strength=function(i){return arguments.length?(t=typeof i=="function"?i:T(+i),s(),l):t},l.x=function(i){return arguments.length?(e=typeof i=="function"?i:T(+i),s(),l):e},l}function pt(e){var t=T(.1),n,r,a;typeof e!="function"&&(e=T(e==null?0:+e));function l(i){for(var f=0,h=n.length,p;f<h;++f)p=n[f],p.vy+=(a[f]-p.y)*r[f]*i}function s(){if(n){var i,f=n.length;for(r=new Array(f),a=new Array(f),i=0;i<f;++i)r[i]=isNaN(a[i]=+e(n[i],i,n))?0:+t(n[i],i,n)}}return l.initialize=function(i){n=i,s()},l.strength=function(i){return arguments.length?(t=typeof i=="function"?i:T(+i),s(),l):t},l.y=function(i){return arguments.length?(e=typeof i=="function"?i:T(+i),s(),l):e},l}function vt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const mt=vt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yt={id:"default",name:"Feature Model",launch:[{id:"launch:0001",name:"launch_file_1.py",args:[{id:"arg:0001:0001",name:"arg1",defaultValue:"true",knownValues:["true","false"]},{id:"arg:0001:0002",name:"arg2",defaultValue:"",knownValues:[]}]},{id:"launch:0002",name:"launch_file_2.py",args:[{id:"arg:0002:0001",name:"arg1",defaultValue:"",knownValues:[]}]}]},_t=be("featureModel",()=>{const e=z(yt),t=z("Custom Configuration"),n=z({});function r(i){t.value=i}function a(i){e.value=i,n.value={};for(const f of i.launch)n.value[f.id]=xt(f)}function l(i){return n.value[i]}function s(i,f){n.value[i]=f}return{featureModel:e,name:t,launch:n,setName:r,setModelDescription:a,getLaunchInstance:l,setLaunchInstance:s}});function xt(e){const t={};for(const n of e.args)t[n.id]=n.defaultValue;return{selected:!1,args:t}}const wt={class:"tree-view"},_e=I({__name:"FeatureTree",props:{collapsed:{type:Boolean}},setup(e){return(t,n)=>Ne((S(),B("ul",wt,[pe(t.$slots,"default")],512)),[[ke,!t.collapsed]])}}),bt={class:"item"},Q=I({__name:"FeatureTreeItem",props:{name:{},hasChildren:{type:Boolean},selected:{type:[Boolean,null]}},emits:["select"],setup(e,{emit:t}){const n=t,r=e,a=z(!1),l=ne(()=>r.selected?"✓":r.selected===!1?"✖":"?");function s(){r.hasChildren&&(a.value=!a.value)}return(i,f)=>(S(),B("li",bt,[C("div",{class:Me(["emph",{bold:i.hasChildren}])},[i.hasChildren?(S(),B("span",{key:0,onClick:ue(s,["stop"])}," ["+Y(a.value?"+":"-")+"] ",1)):ee("",!0),C("span",{onClick:f[0]||(f[0]=ue(h=>n("select"),["stop"]))},Y(i.name),1),f[1]||(f[1]=ve("   ")),C("span",null,Y(l.value),1)],2),i.hasChildren?(S(),P(_e,{key:0,collapsed:a.value},{default:O(()=>[pe(i.$slots,"default")]),_:3},8,["collapsed"])):ee("",!0)]))}}),Nt=I({__name:"ValueFeature",props:{value:{},selected:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const n=t;return(r,a)=>(S(),P(Q,{name:r.value,"has-children":!1,selected:r.selected,onSelect:a[0]||(a[0]=l=>n("select",r.value))},null,8,["name","selected"]))}}),kt=I({__name:"UnknownValueFeature",props:{value:{},selected:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const n=t,r=e,a=ne(()=>`$(${r.value||"?"})`);function l(){if(!r.selected&&r.value)n("select",r.value);else{const s=window.prompt("Enter a value:","");s!=null&&n("select",s)}}return(s,i)=>(S(),P(Q,{name:a.value,"has-children":!1,selected:s.selected,onSelect:l},null,8,["name","selected"]))}}),Mt=I({__name:"ArgFeature",props:{model:{},disabled:{type:Boolean}},emits:["selection"],setup(e,{emit:t}){const n=t,r=e,a=z(r.model.defaultValue),l=z(""),s=ne(()=>r.disabled?!1:a.value?!0:r.model.defaultValue?null:!1);function i(h){a.value=h,n("selection",r.model.id,h)}function f(h){r.model.knownValues.includes(h)||(l.value=h),a.value=h,n("selection",r.model.id,h)}return(h,p)=>(S(),P(Q,{name:h.model.name,"has-children":!0,selected:s.value,onSelect:p[0]||(p[0]=x=>n("selection",h.model.id,a.value))},{default:O(()=>[(S(!0),B(ae,null,re(h.model.knownValues,x=>(S(),P(Nt,{value:x,selected:!h.disabled&&x===a.value,onSelect:i},null,8,["value","selected"]))),256)),H(kt,{value:l.value,selected:!h.disabled&&a.value===l.value,onSelect:f},null,8,["value","selected"])]),_:1},8,["name","selected"]))}}),St=I({__name:"LaunchFeature",props:{model:{}},emits:["selection"],setup(e,{emit:t}){const n=t,r=e,a=z(!1);function l(){a.value===!0?a.value=!1:a.value===!1?a.value=null:a.value=!0,n("selection",r.model.id,a.value)}function s(i,f){a.value===!1&&(a.value=!0,n("selection",r.model.id,!0))}return(i,f)=>(S(),P(Q,{name:i.model.name,"has-children":i.model.args.length>0,selected:a.value,onSelect:l},{default:O(()=>[(S(!0),B(ae,null,re(i.model.args,h=>(S(),P(Mt,{key:h.id,model:h,disabled:a.value===!1,onSelection:s},null,8,["model","disabled"]))),128))]),_:1},8,["name","has-children","selected"]))}}),At={class:"feature-model",ref:"featureModelContainer"},Ct={class:"header"},$t={class:"toolbar",role:"toolbar"},Vt=["disabled"],jt={class:"panel"},zt=I({__name:"FeatureModel",setup(e){const t=_t(),{featureModel:n,name:r,launch:a}=Se(t),l=z(!0);function s(){}function i(f,h){a.value[f].selected=h}return(f,h)=>(S(),B("div",At,[C("div",Ct,[C("h2",null,Y(W(r)),1),C("div",$t,[C("button",{disabled:l.value,onClick:s},"Compute",8,Vt)])]),C("div",jt,[H(_e,{collapsed:!1},{default:O(()=>[(S(!0),B(ae,null,re(W(n).launch,p=>(S(),P(St,Ae({key:p.id,model:p,ref_for:!0},W(a)[p.id],{onSelection:i}),null,16,["model"]))),128))]),_:1})])],512))}}),Tt={class:"computation-graph"},Et={class:"panel",ref:"computationGraphContainer"},Bt={class:"floating-label"},Ft={key:0,class:"annotation"},Dt=I({__name:"ComputationGraph",setup(e){function t(){return{nodes:[{id:"package_1/node_1",group:"package_1",condition:null},{id:"package_1/node_2",group:"package_1",condition:{name:"z"}},{id:"package_2/node_1",group:"package_2",condition:["and",{name:"x"},{name:"y"}]}],links:[{source:"package_1/node_1",target:"package_1/node_2",value:2},{source:"package_1/node_1",target:"package_2/node_1",value:2}]}}const n=Ce("computationGraphContainer"),r=z(null),a=z(1),l=z(320),s=z(100),i=z(t());function f(){a.value<8&&(a.value=a.value*2)}function h(){a.value>.125&&(a.value=a.value/2)}function p(c){r.value=c}function x(){const c=$e(mt),u=i.value.links.map(m=>({...m})),d=i.value.nodes.map(m=>({...m})),y=ht(d).force("link",at(u).id(m=>m.id)).force("charge",dt()).force("x",gt()).force("y",pt()),b=Ve("svg").attr("preserveAspectRatio","xMidYMid meet").attr("viewBox",[-l.value/2,-s.value/2,l.value,s.value]),o=b.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(u).join("line").attr("stroke-width",m=>Math.sqrt(m.value)),_=b.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(d).join("circle").attr("r",10).attr("stroke-dasharray",m=>m.condition==null?"":"2 1").attr("fill",m=>c(m.group));_.append("title").text(m=>m.id);const N=Ge().on("start",M).on("drag",A).on("end",j);_.call(N);function k(m,E){const G=E.index,F=r.value;if(F!=null){const Z=F.index;if(Z===G)return;D(_.nodes()[Z]).attr("fill",X=>c(X.group))}p(E),D(m).attr("fill","#c9c9c9")}_.on("click",(m,E)=>{m.stopPropagation()}),b.on("click",m=>{m.stopPropagation();const E=r.value;if(E!=null){const G=E.index;D(_.nodes()[G]).attr("fill",F=>c(F.group)),p(null)}}),y.on("tick",()=>{o.attr("x1",m=>m.source.x).attr("y1",m=>m.source.y).attr("x2",m=>m.target.x).attr("y2",m=>m.target.y),_.attr("cx",m=>m.x).attr("cy",m=>m.y)});function M(m){m.active||y.alphaTarget(.3).restart(),m.subject.fx=m.subject.x,m.subject.fy=m.subject.y;const E=m.sourceEvent;E.stopPropagation(),k(E.target,m.subject)}function A(m){m.subject.fx=m.x,m.subject.fy=m.y}function j(m){m.active||y.alphaTarget(0),m.subject.fx=null,m.subject.fy=null}return b.node()}function v(){if(n.value!=null){g();const c=D(n.value);c.selectAll("svg").remove(),i.value!=null&&c.append(x)}}function g(){const c=1/a.value;if(n.value!=null){const{width:u,height:d}=n.value.getBoundingClientRect();l.value=(u-4)*c,s.value=(d-4)*c}else l.value=320*c,s.value=180*c}function w(c){n.value!=null&&(g(),D(n.value).selectAll("svg").attr("viewBox",[-l.value/2,-s.value/2,l.value,s.value]))}return se(a,w),se(i,v,{flush:"post"}),je(v),(c,u)=>(S(),B("div",Tt,[C("div",{class:"header"},[u[0]||(u[0]=C("h2",null,"Computation Graph",-1)),C("div",{class:"toolbar"},[C("button",{onClick:h},"Zoom -"),C("button",{onClick:f},"Zoom +")])]),C("div",Et,[C("p",Bt,[ve(" Selected node: "+Y(r.value?r.value.id:"none")+" ",1),r.value?(S(),B("span",Ft,Y(r.value.condition?"conditional":"always on"),1)):ee("",!0)])],512)]))}}),It={class:"runtime-view"},Pt={class:"left-side"},Gt={class:"right-side"},Yt=I({__name:"RuntimeView",setup(e){return(t,n)=>(S(),B("div",It,[C("div",Pt,[H(zt)]),C("div",Gt,[H(Dt)])]))}});export{Yt as default};
